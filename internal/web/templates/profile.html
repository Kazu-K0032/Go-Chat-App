{{ define "content" }}
<div class="l-container">
  <!-- プロフィール部分 -->
  <section class="l-profile">
    <div class="l-profile__iconWrap">
      <!-- アイコン画像 -->
      <form action="/profile/icon" method="POST" enctype="multipart/form-data">
        <label for="icon-upload" class="c-label --profile">
          <img
            src="{{ .User.Icon }}"
            alt="アイコン"
            class="c-label__img --profile"
            id="profile-icon"
            onerror="this.onerror=null; this.src='{{ getRandomDefaultIcon }}';"
          />
          <input
            type="file"
            id="icon-upload"
            name="icon"
            accept="image/*"
            class="c-label__input --profile"
            style="display: none"
            onchange="handleIconChange(event)"
          />
        </label>
      </form>
    </div>

    <h1 class="c-lgTtl --profile">{{.User.Name}}</h1>
    <div class="l-profile__subTtlContainer">
      <p class="c-midTtl --profile">{{.User.Email}}</p>
      <p class="c-midTtl --profile">
        アカウント作成日: {{.User.CreatedAt.Format "2006-01-02"}}
      </p>
    </div>

    <!-- フォロー情報など -->
    <ul class="l-profile-stats">
      <li class="l-profile-stats__item c-smTtl --profile">
        最終更新: {{.User.UpdatedAt.Format "2006-01-02 15:04:05"}}
      </li>
      <li class="l-profile-stats__item c-smTtl --profile">
        アカウント作成: {{.User.CreatedAt.Format "2006-01-02"}}
      </li>
    </ul>
  </section>

  <!-- タブナビゲーション -->
  <nav class="l-tabs">
    <ul class="l-tabs__list">
      <li class="l-tabs__item">
        <a
          href="#posts"
          class="l-tabs__link is-active c-smTtl --tab"
          data-tab="posts"
          >投稿</a
        >
      </li>
      <li class="l-tabs__item">
        <a href="#replies" class="l-tabs__link c-smTtl --tab" data-tab="replies"
          >返信</a
        >
      </li>
      <li class="l-tabs__item">
        <a href="#likes" class="l-tabs__link c-smTtl --tab" data-tab="likes"
          >いいね</a
        >
      </li>
    </ul>
  </nav>

  <!-- タブコンテンツ -->
  <div class="l-tab-contents">
    <!-- 投稿タブ -->
    <section id="posts" class="l-section p-post is-active">
      {{if .Posts}} {{range .Posts}}
      <article class="p-post__list">
        <p class="p-post__content">{{.Content}}</p>
        <time class="p-post__date"
          >{{.CreatedAt.Format "2006-01-02 15:04:05"}}</time
        >
      </article>
      {{end}} {{else}}
      <p class="p-post__empty">投稿はありません</p>
      {{end}}
    </section>

    <!-- 返信タブ -->
    <section id="replies" class="l-section p-post --reply">
      {{if .Replies}} {{range .Replies}}
      <article class="p-post__list">
        <p class="p-post__content">{{.Content}}</p>
        <time class="p-post__date"
          >{{.CreatedAt.Format "2006-01-02 15:04:05"}}</time
        >
      </article>
      {{end}} {{else}}
      <p class="p-post__empty">返信はありません</p>
      {{end}}
    </section>

    <!-- いいねタブ -->
    <section id="likes" class="l-section p-post --like">
      {{if .Likes}} {{range .Likes}}
      <article class="p-post__list">
        <p class="p-post__content">{{.Content}}</p>
        <time class="p-post__date"
          >{{.CreatedAt.Format "2006-01-02 15:04:05"}}</time
        >
      </article>
      {{end}} {{else}}
      <p class="p-post__empty">いいねした投稿はありません</p>
      {{end}}
    </section>
  </div>
</div>

<script src="/js/profile.js"></script>
{{ end }}
